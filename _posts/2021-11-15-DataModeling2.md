---
title: "1-2. 데이터 모델과 성능"
categories: ['SQLD']
---

# 정규화(Normalization)
## 정규화
- 데이터의 일관성, 최소한의 제이터 중복, 최대한의 데이터 유연성을 위해 데이터를 분해하는 과정
- 데이터의 독립성을 확보
- 정규화 절차
  - 제 1정규화
    - 속성의 원자성을 확보, 기본키를 설정
  - 제 2정규화
    - 기본키가 2개 이상의 속성으로 이루어진 경우, 부분 함수 종속성을 제거
  - 제 3정규화
    - 이행 함수 종속성 제거
  - BCNF
    - 복수의 후보키가 있고, 후보키들이 복합 속성이어야 하며, 서로 중첩되어야 함
    - 기본키를 제외하고 후보키가 있는 경우, 후보키가 기본키를 종속시키면 분해
  - 제 4정규화
    - 여러 칼럼들이 하나의 칼럼을 종속시키는 경우 분해하여 다중값 종속성을 제거
  - 제 4정규화
    - 조인에 의해서 종속성이 발생되는 경우 분해함
  
  
  
  
# 정규화의 성능
## 정규화의 문제점
- 데이터 조회(SELECT) 시에 조인을 유발하기 때문에 CPU와 메모리를 많이 사용함
- 중첩된 루프(Nested Loop)를 사용해서 비교하는 기능을 만들어야 조인을 할 수 있음
- 이런 성능 저하를 해결하기 위해 반정규화가 존재


## 정규화를 사용한 성능 튜닝
- 조인으로 인해 성능이 저하되는 문제를 반정규화로 해결할 수 있음
- 반정규화는 데이터를 중복시키기 때문에 또 다른 문제점을 발생시킴
  
  
  
  
# 반정규화(De-Normalization)
## 반정규화
- 데이터베이스의 성능 향상을 위해 데이터 중복을 허용하고 조인을 줄임
- SELECT 속도를 향상하지만, 데이터 모델의 유연성은 낮아짐


## 반정규화를 수행하는 경우
- 수행 속도가 느려지는 경우
- 다량의 범위를 자주 처리해야 하는 경우
- 특정 범위의 데이터만 자주 처리하는 경우
- 요약/집계 정보가 자주 요구되는 경우
- 반정규화 절차
  1. 대상 조사 및 검토
  2. 다른 방법 검토
  3. 반정규화 수행

  
## 반정규화 기법
- 미리 계산된 칼럼 추가
- 테이블 수직 분할
  - 하나의 테이블을 두 개 이상의 테이블로 분할
- 테이블 수평 분할
  - 하나의 테이블에 있는 값을 기준으로 테이블을 분할
- 테이블 병합
  - 1대1 관계의 테이블을 하나의 테이블로 병합해서 성능을 향상시킴
  - 1대N 관계의 테이블을 병합하여 성능을 향상시킴(많은 양의 데이터 중복 발생)
  - 슈퍼 타입과 서브 타입 관계가 발생하면 테이블을 통합하여 성능을 향상시킴
  - 슈퍼 타입 및 서브 타입 변환 방법
    - OneToOne Type
      - 슈퍼 타입과 서브 타입을 개별 테이블로 도출
      - 테이블의 수가 많아서 조인이 많이 발생 -> 관리 어려움
    - Plus Type
      - 슈퍼 타입과 서브 타입 테이블로 도출
      - 조인이 발생 -> 관리 어려움
    - Single Type
      - 슈퍼 타입과 서브 타입을 하나의 테이블로 도출
      - 조인 성능이 좋고 관리가 편리하지만 입출력 성능이 나쁨
  
  
  
  
# 분산 데이터베이스
## 분산 데이터베이스
- 중앙 집중형 데이터베이스
  - 한 대의 물리적 시스템에 데이터베이스 관리 시스템을 설치하고 여러 명의 사용자가 데이터베이스 관리 시스템에 접속하여 데이터베이스를 사용
- 분산 데이터베이스
  - 물리적으로 떨어진 데이터베이스에 네트워크로 연결하여 단일 데이터베이스 이미지를 보여주고 분산된 작업 처리를 수행하는 데이터베이스
- 고객은 시스템이 네트워크로 분산되어 있는지의 여부를 인식하지 못하면서, 자신만의 데이터베이스를 사용하는 것처럼 사용할 수 있음
- 분산 데이터베이스의 투명성
  - 분할 투명성
  - 위치 투명성
  - 지역 사상 투명성
  - 중복 투명성
  - 장애 투명성
  - 병행 투명성

  
## 분산 데이터베이스 설계 방식
- 상향식 설계 방식
  - 지역 스키마 작성 후 향후 전역 스키마를 작성
- 하향식 설계 방식
  - 전역 스키마 작성 후 해당 지역 사상 스키마를 작성
- 분산 데이터베이스 장점과 단점
  - 장점
    - 신뢰성과 가용성이 높음
    - 빠른 응답 가능
    - 용량 확장 쉬움
  - 단점
    - 관리와 통제 어려움
    - 무결성 관리 어려움
    - 설계 복잡
